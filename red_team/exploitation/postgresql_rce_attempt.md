# PostgreSQL RCE Attempt – COPY FROM PROGRAM

# Objective

Exploit the PostgreSQL 8.3.0 service on Metasploitable2 via the `COPY FROM PROGRAM` feature to execute a reverse shell and gain remote code execution.

---

# Vulnerability Summary

- **Target Port:** 5432/tcp
- **Service Version:** PostgreSQL 8.3.0
- **Vulnerable Feature:** `COPY FROM PROGRAM` (requires superuser)
- **Credentials Tested:** postgres:postgres (default)

---

# Exploitation Attempts

### Method 1: Metasploit Module

- **Module:** `exploit/multi/postgres/postgres_copy_from_program_cmd_exec`
- **Payloads Tested:**
  - `cmd/unix/reverse_netcat`
  - `cmd/unix/reverse_perl`
  - `linux/x86/meterpreter/reverse_tcp` (incompatible)

- **Outcome:** Exploit completed, but no session was received.

### Method 2: Metasploit UDF Injection

- **Module:** `exploit/linux/postgres/postgres_payload`
- **Payload:** `linux/x86/meterpreter/reverse_tcp`
- **Outcome:** Exploit completed, but no session was created.

### Method 3: Manual `psql` Connection

- Unable to confirm successful connection with credentials.
- No direct command execution via SQL shell was possible.


## Diagnostics Summary

- Port 5432 confirmed open and accessible.
- `psql` login attempted but credentials may be incorrect.
- Metasploit listener was running and confirmed working in other exploits.
- Shells not received, likely due to missing binaries or restricted permissions.

---

# Outcome

Despite having a potentially exploitable version and default credentials, all attempts to gain a shell via PostgreSQL RCE failed.

---

# MITRE ATT&CK Mapping

- **T1190 – Exploit Public-Facing Application**
- **T1059.004 – Command and Scripting Interpreter: Unix Shell**

# Conclusion

The PostgreSQL attack surface was tested thoroughly with no success. This path is documented as a failed RCE attempt, but remains a candidate for future manual exploitation if new credentials or methods are discovered.
